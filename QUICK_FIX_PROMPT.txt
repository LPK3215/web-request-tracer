我有两个 Git 自动化脚本需要修复，请帮我修复以下问题：

## 推送脚本 (1-git-push-auto.bat) 的问题：

1. **已提交但未推送的内容无法推送**
   - 原因：只检查暂存区，没检查未推送的提交
   - 修复：增加检测逻辑，检查本地和远程的差异

2. **git init 默认分支不确定**
   - 原因：不同 Git 版本默认分支可能是 master 或 main
   - 修复：使用 `git init -b main`，并兼容旧版本

3. **FINAL_REPO 变量可能未设置**
   - 原因：在 else 分支中，如果用户直接回车，FINAL_REPO 未赋值
   - 修复：确保在 else 分支开始就设置 `set FINAL_REPO=!CURRENT_REPO!`

4. **分支检测硬编码**
   - 原因：检测未推送提交时硬编码使用 %DEFAULT_BRANCH%
   - 修复：动态获取当前分支名

5. **远程仓库添加失败无容错**
   - 原因：如果 origin 已存在，git remote add 会失败
   - 修复：添加 2>nul 并在失败时尝试 set-url

## 克隆脚本 (2-git-clone-auto.bat) 的问题：

1. **文件夹名提取不完善**
   - 原因：URL 包含 .git 后缀或特殊字符时提取失败
   - 修复：移除 .git 后缀和特殊字符（: / \）

## 修复要求：

1. 找到对应的代码段并修复
2. 保持其他部分不变
3. 输出完整的修复后的脚本

## 我的脚本内容：

### 1-git-push-auto.bat:
```batch
[在这里粘贴你的推送脚本内容]
```

### 2-git-clone-auto.bat:
```batch
[在这里粘贴你的克隆脚本内容]
```

请开始修复，并输出完整的修复后的脚本。
